
sensor_graph:    
  card:
    type: custom:mini-graph-card
    entities:
      - '[[entity]]'
    font_size: 75
    line_color: blue
    line_width: 8
    name: '[[name]]'
    hours_to_show: 168
    points_per_hour: 0.1

sensors_graph:    
  card:
    type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: sensor_graph
        variables:
          - entity: '[[entity1]]'
          - name: '[[name1]]'
      - type: custom:decluttering-card
        template: sensor_graph
        variables:
          - entity: '[[entity2]]'
          - name: '[[name2]]'
      - type: custom:decluttering-card
        template: sensor_graph
        variables:
          - entity: '[[entity3]]'
          - name: '[[name3]]'
        
person:
  card:
    type: custom:button-card
    entity: '[[entity]]'
    tap_action:
      action: more-info
    hold_action:
      action: more-info
    show_entity_picture: true
    size: 80%
    color_type: card
    state:
      - value: "home"
        entity_picture: /local/images/[[entity]]_home.png
        color: white
      - value: "not_home"
        entity_picture: /local/images/[[entity]]_not_home.png
        color: lightgray

persons:
  card:
    type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: person
        variables:
          - entity: '[[entity1]]'
      - type: custom:decluttering-card
        template: person
        variables:
          - entity: '[[entity2]]'
      - type: custom:decluttering-card
        template: person
        variables:
          - entity: '[[entity3]]'    
      - type: custom:decluttering-card
        template: person
        variables:
          - entity: '[[entity4]]' 

health:
  card:
    type: vertical-stack
    cards:
      - type: custom:button-card
        template: header
        name: '[[entity]]'
      - type: custom:decluttering-card
        template: sensors_graph
        variables:
          - entity1: sensor.withings_weight_kg_[[entity]]
          - name1: Weight
          - entity2: sensor.withings_fat_ratio_pct_[[entity]]
          - name2: Fat Ratio
          - entity3: sensor.withings_systolic_blood_pressure_mmhg_[[entity]]
          - name3: Blood P

finance:
  card:
    type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: 'custom:mini-graph-card'
            animate: true
            entities:
              - sensor.avanza_[[entity1]]
            graph: line
            hour24: true
            hours_to_show: 720 # 1 month
            name: '[[entity1]] Stock last Month'
            show:
              extrema: true
              icon: true
              name: true
          - type: 'custom:mini-graph-card'
            animate: true
            entities:
              - sensor.avanza_[[entity2]]
            graph: line
            hour24: true
            hours_to_show: 720 # 1 month
            name: '[[entity2]] Stock last Month'
            show:
              extrema: true
              icon: true
              name: true
          - type: 'custom:mini-graph-card'
            animate: true
            entities:
              - sensor.avanza_[[entity3]]
            graph: line
            hour24: true
            hours_to_show: 720 # 1 month
            name: '[[entity3]] Stock last Month'
            show:
              extrema: true
              icon: true
              name: true
      - type: horizontal-stack
        cards:
          - type: entities
            title: '[[entity1]]'
            entities:
              - entity: input_text.avanza_[[entity1]]_max
              - entity: input_text.avanza_[[entity1]]_min
              - entity: automation.avanza_[[entity1]]
          - type: entities
            title: '[[entity2]]'
            entities:
              - entity: input_text.avanza_[[entity2]]_max
              - entity: input_text.avanza_[[entity2]]_min
              - entity: automation.avanza_[[entity2]]
          - type: entities
            title: '[[entity3]]'
            entities:
              - entity: input_text.avanza_[[entity3]]_max
              - entity: input_text.avanza_[[entity3]]_min
              - entity: automation.avanza_[[entity3]]